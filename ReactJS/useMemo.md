# useMemo

## useMemo를 사용하는 이유

> 성능 최적화
> useMemo는 계산 비용이 높은 함수의 결과값을 메모리에 저장(캐싱)하여, 동일한 입력값에 대해 함수를 재실행하지 않고 저장된 값을 재사용할 수 있도록 합니다. 이를 통해 불필요한 계산을 줄이고, 애플리케이션의 성능을 향상시킬 수 있습니다.

```JavaScript
const memoizedValue = useMemo(() => computeExpensiveValue(a, b), [a, b]);
```

여기서 computeExpensiveValue는 비용이 많이 드는 함수이며, [a, b]는 이 함수가 의존하는 값들입니다. a와 b가 변경될 때만 함수가 재실행되고, 그렇지 않다면 이전에 계산된 값을 재사용합니다.

## 동작 방식

- 초기 렌더링 시

컴포넌트가 처음 렌더링될 때, useMemo에 전달된 콜백 함수가 실행되고, 그 결과(여기서는 객체)가 메모리에 저장됩니다.

- 의존성 배열의 값이 변경될 때

의존성 배열에 포함된 값이 변경되면, useMemo에 전달된 콜백 함수가 다시 실행됩니다. 새로 계산된 객체가 다시 메모리에 저장되고, 이 값이 반환됩니다.

- 의존성 배열의 값이 변경되지 않을 때

의존성 배열의 값이 변경되지 않으면, useMemo는 메모리에 저장된 이전 객체를 반환합니다. 이는 새로운 객체를 생성하지 않고, 메모리에 저장된 객체를 재사용하는 것을 의미합니다.

## 주의할 점

useMemo를 사용할 때 주의할 점은, 메모리에 값이 저장되므로 메모리 사용량이 증가할 수 있다는 것입니다. 따라서, 정말로 필요한 곳에만 useMemo를 사용하는 것이 좋습니다.
